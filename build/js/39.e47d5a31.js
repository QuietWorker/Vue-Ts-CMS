"use strict";(self["webpackChunkvue3_ts_cms"]=self["webpackChunkvue3_ts_cms"]||[]).push([[39],{9039:function(e,t,a){var n=a(3836);t.Z=n.Z},3836:function(e,t,a){a.d(t,{Z:function(){return $}});var n=a(2261),l=(a(3458),a(6809),a(1015)),o=(a(8474),a(3396)),i=a(7139);const r=e=>((0,o.dD)("data-v-a387c772"),e=e(),(0,o.Cn)(),e),s={class:"page-content"},p=r((()=>(0,o._)("span",null,"新增用户",-1))),u=r((()=>(0,o._)("span",null,"刷新",-1))),c=r((()=>(0,o._)("span",null,"编辑",-1))),d=r((()=>(0,o._)("span",null,"删除",-1)));function g(e,t,a,r,g,m){const w=(0,o.up)("User"),f=l.gn,C=n.ElButton,h=(0,o.up)("Refresh"),y=(0,o.up)("Edit"),k=(0,o.up)("Delete"),_=(0,o.up)("yy-table");return(0,o.wg)(),(0,o.iD)("div",s,[(0,o.Wm)(_,(0,o.dG)({class:"table","table-data":e.dataList,"list-count":e.dataCount},e.contentTableConfig,{page:e.pageInfo,"onUpdate:page":t[0]||(t[0]=t=>e.pageInfo=t)}),(0,o.Nv)({headerHandler:(0,o.w5)((()=>[e.canCreate?((0,o.wg)(),(0,o.j4)(C,{key:0,type:"primary",onClick:e.handleNewClick},{default:(0,o.w5)((()=>[(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[(0,o.Wm)(w)])),_:1}),p])),_:1},8,["onClick"])):(0,o.kq)("",!0),(0,o.Wm)(C,null,{default:(0,o.w5)((()=>[(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[(0,o.Wm)(h)])),_:1}),(0,o.Uk)(),u])),_:1})])),status:(0,o.w5)((e=>[(0,o.Wm)(C,{size:"small",type:e.row.status?"success":"danger",plain:""},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.row.status?"启用":"禁用"),1)])),_:2},1032,["type"])])),enable:(0,o.w5)((e=>[(0,o.Wm)(C,{size:"small",type:e.row.enable?"success":"danger",plain:""},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.row.enable?"启用":"禁用"),1)])),_:2},1032,["type"])])),createTime:(0,o.w5)((t=>[(0,o._)("span",null,(0,i.zw)(e.$filters.formatTime(t.row.createAt)),1)])),updateTime:(0,o.w5)((t=>[(0,o._)("span",null,(0,i.zw)(e.$filters.formatTime(t.row.updateAt)),1)])),opreate:(0,o.w5)((t=>[e.canUpdate?((0,o.wg)(),(0,o.j4)(C,{key:0,size:"small",type:"primary",plain:"",onClick:a=>e.handleEditClick(t.row)},{default:(0,o.w5)((()=>[(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[(0,o.Wm)(y)])),_:1}),c])),_:2},1032,["onClick"])):(0,o.kq)("",!0),e.canDelete?((0,o.wg)(),(0,o.j4)(C,{key:1,size:"small",type:"danger",plain:"",onClick:a=>e.handleDeleteClick(t.row)},{default:(0,o.w5)((()=>[(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[(0,o.Wm)(k)])),_:1}),d])),_:2},1032,["onClick"])):(0,o.kq)("",!0)])),_:2},[(0,o.Ko)(e.otherPropSlots,(t=>({name:t.slotName,fn:(0,o.w5)((a=>[t.slotName?(0,o.WI)(e.$slots,t.slotName,{key:0,row:a.row},void 0,!0):(0,o.kq)("",!0)]))})))]),1040,["table-data","list-count","page"])])}var m=a(3191),w=(a(3877),a(4550));a(88),a(4566),a(451),a(1430);const f={class:"table"},C={class:"header"},h={class:"title"},y={class:"handler"},k={key:0,class:"footer"};function _(e,t,a,n,l,r){const s=w.$Y,p=w.eI,u=m.R;return(0,o.wg)(),(0,o.iD)("div",f,[(0,o._)("div",C,[(0,o.WI)(e.$slots,"header",{},(()=>[(0,o._)("div",h,(0,i.zw)(e.title),1),(0,o._)("div",y,[(0,o.WI)(e.$slots,"headerHandler",{},void 0,!0)])]),!0)]),(0,o.Wm)(p,(0,o.dG)({data:e.tableData,border:"",stripe:"",style:{width:"100%"},lazy:""},e.childrenProps,{onSelectionChange:e.handleSelectionChange}),{default:(0,o.w5)((()=>[e.showSelectColumn?((0,o.wg)(),(0,o.j4)(s,{key:0,label:"选择",type:"selection",align:"center","min-width":"50"})):(0,o.kq)("",!0),e.showIndexColumn?((0,o.wg)(),(0,o.j4)(s,{key:1,label:"序号",type:"index",align:"center","min-width":"50"})):(0,o.kq)("",!0),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.propList,(t=>((0,o.wg)(),(0,o.j4)(s,(0,o.dG)({key:t.prop},t,{align:"center",showOverflowTooltip:""}),{default:(0,o.w5)((a=>[(0,o.WI)(e.$slots,t.slotName,{row:a.row},(()=>[(0,o.Uk)((0,i.zw)(a.row[t.prop])+" ",1)]),!0)])),_:2},1040)))),128))])),_:3},16,["data","onSelectionChange"]),e.showFooter?((0,o.wg)(),(0,o.iD)("div",k,[(0,o.WI)(e.$slots,"footer",{},(()=>[(0,o.Wm)(u,{"current-page":e.page.currentPage,"onUpdate:currentPage":t[0]||(t[0]=t=>e.page.currentPage=t),"page-size":e.page.pageSize,"onUpdate:pageSize":t[1]||(t[1]=t=>e.page.pageSize=t),"page-sizes":[5,10,20,30],layout:"total, sizes, prev, pager, next, jumper",total:e.listCount,onSizeChange:e.handleSizeChange,onCurrentChange:e.handleCurrentChange},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])]),!0)])):(0,o.kq)("",!0)])}var v=(0,o.aZ)({props:{title:{type:String,default:""},tableData:{type:Array,required:!0},propList:{type:Array,required:!1},showIndexColumn:{type:Boolean,default:!1},showSelectColumn:{type:Boolean,default:!1},listCount:{type:Number,default:0},page:{type:Object,default:()=>({currentPage:0,pageSize:10})},childrenProps:{type:Object,default:()=>({})},showFooter:{type:Boolean,default:!0}},emits:["selectionChange","update:page"],setup(e,{emit:t}){const a=e=>{t("selectionChange",e)},n=a=>{t("update:page",{...e.page,pageSize:a})},l=a=>{t("update:page",{...e.page,currentPage:a})};return{handleSelectionChange:a,handleSizeChange:n,handleCurrentChange:l}}}),z=a(89);const N=(0,z.Z)(v,[["render",_],["__scopeId","data-v-4ae53848"]]);var b=N,S=b,W=a(1032),D=a(4870);function P(e,t){const a=(0,W.oR)(),n=[...a.state.login.permissions],l=`system:${e}:${t}`;return!!n.find((e=>e===l))}var q=(0,o.aZ)({components:{yyTable:S},props:{contentTableConfig:{type:Object,required:!0},parentName:{type:String,required:!0},pageName:{type:String,required:!0}},emits:["editBtnClick","deleteBtnClick","newBtnClick"],setup(e,{emit:t}){const a=(0,W.oR)(),n=P(e.pageName,"create"),l=P(e.pageName,"update"),i=P(e.pageName,"query"),r=P(e.pageName,"delete"),s=(0,D.iH)(),p=(0,D.iH)({currentPage:1,pageSize:5});(0,o.YP)(p,(()=>u({...s.value})));const u=(t={})=>{i&&(s.value={...t},a.dispatch(`${e.parentName}/getPageListAction`,{pageName:e.pageName,queryInfo:{offset:(p.value.currentPage-1)*p.value.pageSize,size:p.value.pageSize,...t}}))};u();const c=(0,o.Fl)((()=>a.getters[`${e.parentName}/pageListData`](e.pageName))),d=(0,o.Fl)((()=>a.getters[`${e.parentName}/pageListCount`](e.pageName))),g=e.contentTableConfig?.propList.filter((e=>"status"!==e.slotName&&("enable"!==e.slotName&&("createTime"!==e.slotName&&("updateTime"!==e.slotName&&"opreate"!==e.slotName))))),m=t=>{a.dispatch("system/deletePageDataAction",{pageName:e.pageName,id:t.id})},w=e=>{t("editBtnClick",e)},f=()=>{t("newBtnClick")};return{dataList:c,dataCount:d,pageInfo:p,getPageData:u,otherPropSlots:g,handleEditClick:w,handleDeleteClick:m,handleNewClick:f,canCreate:n,canDelete:r,canUpdate:l}}});const I=(0,z.Z)(q,[["render",g],["__scopeId","data-v-a387c772"]]);var $=I},3458:function(e,t,a){a(6045)},6809:function(e,t,a){a(3458)},88:function(e,t,a){a(3458)},8474:function(e,t,a){a(3458)},172:function(e,t,a){a(3458)},7960:function(e,t,a){a(3458)},6467:function(e,t,a){a(3458)},451:function(e,t,a){a(3458)},3877:function(e,t,a){a(3458),a(172),a(1430),a(7960),a(451),a(6467)},1430:function(e,t,a){a(3458)},4566:function(e,t,a){a(3458),a(6467)}}]);
//# sourceMappingURL=39.e47d5a31.js.map